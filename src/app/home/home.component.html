<div class="home-container">
    <app-header></app-header>
    <div class="resp-box">
        <div class="carousel-box">
            <app-carousel *ngIf="!isLoading; else loader" [images]="carouselApi.offers"></app-carousel>
            <ng-template #loader>
                <div class="d-flex justify-content-center">
                    <app-loader></app-loader>
                </div>
            </ng-template>
        </div>
        <div class="home-body">
            <div class="d-flex justify-content-between">
                <h1 class="popular-rest-text">Popular Restaurants</h1>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Search Restaurants..." [(ngModel)]="searchText" />
                    <i class="bi bi-search search-icon"></i>
                </div>
            </div>
            <div class="caption-filter-box">
                <h3 class='caption'>Select your favourite restaurant special dish and make your day happy...</h3>
                <!-- Pop up Should be Added here -->
                <div class='fliter-box' placement="bottom" [ngbPopover]="popContent">
                    <i class="bi bi-filter-left filter-icon"></i>
                    <h4 class='filter-text'>Sort by {{ sortType }}</h4>
                    <i class="bi bi-caret-down-fill filter-icon" [style]="{fontSize: '15px', marginTop: '5px'}"></i>
                </div>
                <ng-template #popContent>
                    <div className='filter-popup'>
                        <h3 (click)="onClickLowest()"
                            [ngClass]="sortType === 'Lowest' ? 'sort-option selected' : 'sort-option'">Lowest</h3>
                        <h3 (click)="onClickHighest()"
                            [ngClass]="sortType === 'Highest' ? 'sort-option selected' : 'sort-option'">Highest</h3>
                    </div>
                </ng-template>

                <!-- Pop up Should be Added here -->

            </div>
            <hr class='hr-rule' />
            <!-- List of Restaurants -->
            <app-restaurants [searchText]="searchText"></app-restaurants>
            <!-- Pagination Logic -->
            <app-pagination></app-pagination>
        </div>
        <app-footer></app-footer>
    </div>
</div>